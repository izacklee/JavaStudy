2020.06.04
#### 1.AOP（必问）
   （1）面相切面编程（方法执行前后进行“横切”）：在代码前后插入代码
   （2）集中解决项目当中的公共功能
        比如过滤器，servlet执行前后，需要过滤器处理公共的功能！
#### 2.名词
   （1）增强（Advice）：增强是织入到目标类连接点上的一段程序代码。Spring提供的增强接口都是带方位名的，比如：
         BeforeAdvice、AfterReturningAdvice、ThrowsAdvice等。很多资料上将增强译为“通知”，这明显是个词不达意的翻译，
         让很多程序员困惑了许久。
        （表示在连接点上执行的行为，这个行为是目标类类所没有的，是为目标类增加了额外的方法或者其他的一些功能。）
   （2）切入点（Pointcut）：将增强应用到目标对象后创建的对象。
        在切面中匹配一个具体的连接点——匹配连接点的断言（匹配成功为真，失败为假）。
        比如切入点表达式为: expression="execution(* com.xyz.service.*BS.*(..))", 断言就是确认执行的连接点
        匹配该表达式（com.xyz.service下以BS结尾的类/接口中的所有方法）。
   （3）连接点（Joinpoint）：程序执行的某个特定位置（如：某个方法调用前、调用后，方法抛出异常后）。一个类或一段程序
        代码拥有一些具有边界性质的特定点，这些代码中的特定点就是连接点。Spring仅支持方法的连接点。
   （4）切面（Aspect）：切面是由切点和增强（引介）组成的，它包括了对横切关注功能的定义，也包括了对连接点的定义。
   （5）代理（Proxy）：将增强应用到目标对象后创建的对象。
   （6）目标对象（Target）：被增强的对象。
   （7）织入（Weaving）：在切入点添加增强处理（比如前置增强，后置增强...）。
        织入是将增强添加到目标类具体连接点上的过程，AOP有三种织入方式：①编译期织入：需要特殊的Java编译器
        （例如AspectJ的ajc）；②装载期织入：要求使用特殊的类加载器，在装载类的时候对类进行增强；③运行时织入：
        在运行时为目标类生成代理实现增强。Spring采用了动态代理的方式实现了运行时织入，而AspectJ采用了
        编译期织入和装载期织入的方式。 
#### 3. 实现一个aop  
   （1）增强的是谁
   （2）由谁来增强
   （3）切入点：增强的点在哪里？
        表达式：
            3.1）修饰符：修饰的是方法的修饰符
            3.2）返回值：*代表任意（推荐），可以自己指定
            3.3）包名.*.*：该包下所有的类和所有的方法，不包含子包
                如：com.m.test.service.impl.*.*
            3.4）包名..*：该包下所有的子包所有的类所有的方法，包含子包
                如：com.m.test.service..*
            3.5）参数..：代表任意参数和类型
        为什么要在service里增强？ 因为要把数据库连接和事务开启等公共的部分提取到service封装或增强中的环绕增强中封装，
            dao层只执行SQL就行，代码更简洁。
   （4）增强
        4.1）前置
        4.2）后置
        4.3）环绕
        4.4）产生返回值
        4.5）产生异常      
   （5）增强的次序：
        前置->环绕前->执行方法->后置->环绕后->返回值/异常    
#### 4.Spring的注解（推荐）
   （1）如果我们有大量的bean和实例需要配置，大量的AOP需要配置，可以想象的情况是什么？配置文件过于庞大。
       1.1）注解优势：配置文件简洁，灵活
       1.2）注解缺点：层级关系不明，难以维护，只能通过严格的项目工程管理（规范架构 包的归类命名），来维护
   （2）注解
       2.1）@Component：普通bean
       2.2）@Repository：dao
       2.3）@Service：service
       2.4）@Controller：controller
       2.5）@Scope：作用域（@Scope("prototype") 相当于bean的scope="prototype"配置）
       2.6）@Qualifier("beanName")：byName
       2.5）自动装配（注入）
            2.5.1）@Autowired：默认是byType。加了这个之后就会自动按照类型装配 可省去了写getter/setter
            2.5.2）@Resource（推荐）：不是spring的，是javax（javax的x是extension的意思，也就是扩展包）
                    的注解。用法和@Autowired一样，但可以指定name和type，如果指定就用其指定的装配，先name后type，
                    未指定默认byName自动装配。
   （3）注解可以直接添加在对应的实现类或者属性或者方法上添加，目的是简化配置文件
   （4）自动扫描会将扫描到的，添加了注解的实例，加入到spring当中
   （5）注解实现AOP
        5.1）增强类注解@Aspect
        5.2）切入点注解@Pointcut
        5.3）织入注解：@Before("myPointcut()")，@After("myPointcut()")，@Around("myPointcut()")，
            @AfterReturning(value="myPointcut()", returning="name" )，@AfterThrowing(value="myPointcut()", throwing="ex")
#### 5.AOP的应用DEMO
   （1）使用AOP来完成dao的编程式事务管理
   （2）声明式的事务管理：整合项目再讲
#### 6.补充说明
   （1）aop一般来说，用于增强service的实现类（controller不需要增强，因为有拦截器了，dao也不需要增强，因为后面没有实现类了），
        而我们的实际项目当中，service需要配置声明式的事务管理（AOP）
    面相接口编程，如果不用的话有大量实现类进行切换，就要去修改原代码（项目大会很麻烦），而spring就是避免了大量的实现类修改。
#### 7.下节课内容：springMVC

衷心的忠告：
1.请大家未来一定不要成为码农，一定不要成为配置员，要会设计
2.基础永远学不完
3.思想（业务思想/项目架构思想 最需要的）
4.程序员的自我修养：
 （1）1-3年 多分析需求（为什么用到这个？怎么用？会出现什么问题？）。到百度文库，查IT项目需求文档，去看。
 （2）3-5年 看大型电商项目的架构方案、分布式项目架构
    如大型分布式电商系统架构技术总结：https://blog.csdn.net/qq_37838223/article/details/80566712
    2.1）阿里各类思想的书籍：高产
    2.2）互联网项目架构（偏设计）
    2.3）大数据实战（偏技术）
    2.4）人工智能实战（偏技术）
    2.5）弹性计算实战（偏技术）
    2.6）物联网项目架构（偏设计）
    以上相关书籍可到淘宝、京东、当当上搜索，选排名前几的就可以。
 （3）10+：专家（不是看技术点的掌握范围，看对于整个行业领域的宏观思想，以及大量丰富设计经验和设计思想），
        让你设计的项目，在一定时期内不落伍     
5.SpringCloud对于普通程序员来说就是一个灾难，就算用个10年也只能是个码农  
二段式提交 
框架要学，会用，理解其设计思想，写个小demo。     